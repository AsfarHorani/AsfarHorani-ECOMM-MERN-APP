{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Projects\\\\e-commerce\\\\front-end\\\\src\\\\components\\\\orders\\\\orders.js\";\nimport React, { Component } from 'react';\nimport './orders.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Order extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: [],\n      grandTotal: 0,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    console.log(this.props);\n    fetch('http://localhost:8080/get-orders', {\n      headers: {\n        Authorization: 'Bearer ' + this.props.token\n      }\n    }).then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        const error = new Error('Could not fetch Orders');\n        throw error;\n      }\n\n      return res.json();\n    }).then(resData => {\n      console.log(resData);\n      this.setState({\n        orders: resData.orders,\n        loading: false\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    let orders;\n\n    if (this.state.loading) {\n      orders = /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"loading!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 23\n      }, this);\n    }\n\n    if (!this.state.orders.length === 0) {\n      return orders = /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 28\n      }, this);\n    }\n\n    orders = this.state.orders.map(order => {\n      console.log(order.orderItems.items);\n      const items = order.orderItems.items.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-details\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-title\",\n                children: item.product.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-price\",\n              children: item.product.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-quantity\",\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-line-price\",\n              children: item.product.price * item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 24\n        }, this);\n      });\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"orders__item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Order - \", order._id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\" Name: \", order.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\" Adress: \", order.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"orders__products-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"column-labels\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-details\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-price\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-quantity\",\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-line-price\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), items]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"totals-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Subtotal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"totals-value\",\n            id: \"cart-subtotal\",\n            children: order.orderItems.totalPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"totals-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Shipping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"totals-value\",\n            id: \"cart-shipping\",\n            children: \"15.00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"totals-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Grand Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"totals-value\",\n            id: \"cart-total\",\n            children: +order.orderItems.totalPrice + 15.00\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"orders\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: orders\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 18\n    }, this);\n  }\n\n}\n\nexport default Order;","map":{"version":3,"sources":["D:/Work/Projects/e-commerce/front-end/src/components/orders/orders.js"],"names":["React","Component","Order","state","orders","grandTotal","loading","componentDidMount","setState","console","log","props","fetch","headers","Authorization","token","then","res","status","error","Error","json","resData","catch","err","render","length","map","order","orderItems","items","item","product","title","price","quantity","_id","name","address","totalPrice"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './orders.css'\r\nclass Order extends Component {\r\n  state = {\r\n      orders: [],\r\n      grandTotal:0,\r\n       loading: false\r\n  }\r\n\r\n \r\n  componentDidMount(){\r\n      this.setState({loading: true})\r\n    console.log(this.props)\r\n      fetch('http://localhost:8080/get-orders',{\r\n          \r\n          headers:{\r\n            \r\n                Authorization: 'Bearer ' + this.props.token,\r\n            }\r\n      }).then(res=>{\r\n          if(res.status!==200 && res.status!==201){\r\n              const error = new Error('Could not fetch Orders');\r\n              throw error\r\n          }\r\n          return res.json()\r\n      }).then(resData=>{\r\n          console.log(resData)\r\n          this.setState({orders: resData.orders, loading: false})\r\n      }).catch(err=>{\r\n          console.log(err)\r\n      })\r\n  }\r\n\r\n\r\n  \r\n    render(){\r\n        let orders;\r\n        if(this.state.loading)\r\n        {\r\n            orders = (<h1>loading!!!</h1>)\r\n        }\r\n        \r\n        if(!this.state.orders.length===0  )\r\n        {\r\n           return orders = <h1>No orders</h1>\r\n        }\r\n      \r\n        orders = this.state.orders.map(order=>{\r\n            console.log( order.orderItems.items)\r\n            const items = order.orderItems.items.map(item=>{\r\n              \r\n                return(<li>\r\n                 <div className=\"product\">\r\n        \r\n            <div className=\"product-details\">\r\n              <div className=\"product-title\">{item.product.title}</div>\r\n            \r\n            </div>\r\n            <div className=\"product-price\">{item.product.price}</div>\r\n            <div className=\"product-quantity\">\r\n            {item.quantity}\r\n            </div>\r\n           \r\n            <div className=\"product-line-price\">{item.product.price * item.quantity}</div>\r\n          </div>\r\n                </li>)\r\n                \r\n                  \r\n            })\r\n            return( \r\n                <li className='orders__item'>\r\n                    <h3>\r\n                        Order - {order._id}\r\n                       \r\n                    </h3>\r\n                    <h3> Name: {order.name}</h3>\r\n                    <h3> Adress: {order.address}</h3>\r\n                    <h3>Time:{}</h3>\r\n\r\n                    <ul className=\"orders__products-item\">\r\n                    <div className=\"column-labels\">\r\n        \r\n        <label className=\"product-details\">Product</label>\r\n        <label className=\"product-price\">Price</label>\r\n        <label className=\"product-quantity\">Quantity</label>\r\n    \r\n        <label className=\"product-line-price\">Total</label>\r\n      </div>\r\n                            {items}\r\n     \r\n                            \r\n                    </ul>\r\n\r\n         \r\n         <div className=\"totals-item\">\r\n           <label>Subtotal</label>\r\n      <div className=\"totals-value\" id=\"cart-subtotal\">{order.orderItems.totalPrice}\r\n        </div>\r\n        </div>\r\n                    <div className=\"totals-item\">    \r\n      <label>Shipping</label>\r\n      <div className=\"totals-value\" id=\"cart-shipping\">15.00</div>\r\n    </div>\r\n    <div className=\"totals-item\">\r\n      <label>Grand Total</label>\r\n      <div className=\"totals-value\" id=\"cart-total\">{+order.orderItems.totalPrice + 15.00}</div>\r\n    </div>\r\n    \r\n                </li>)\r\n            })\r\n        return ( <div className=\"orders\">\r\n        <h1>Orders</h1>\r\n    <ul >\r\n        {orders}\r\n    </ul>\r\n    </div>)\r\n       \r\n    }\r\n\r\n}\r\n\r\nexport default Order"]},"metadata":{},"sourceType":"module"}