{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Projects\\\\e-commerce\\\\front-end\\\\src\\\\components\\\\orders\\\\orders.js\";\nimport React, { Component } from 'react';\nimport './orders.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Order extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    fetch('http://localhost:8080/get-orders', {\n      headers: {\n        Authorization: 'Bearer ' + this.props.token\n      }\n    }).then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        const error = new Error('Could not fetch Orders');\n        throw error;\n      }\n\n      return res.json();\n    }).then(resData => {\n      console.log(resData);\n      this.setState({\n        orders: resData.orders\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    let orders;\n\n    if (!this.state.orders) {\n      return orders = /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 28\n      }, this);\n    }\n\n    orders = this.state.orders.map(order => {\n      console.log(order.orderItems.items);\n      const items = order.orderItems.items.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: i.product.imageUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-details\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-title\",\n                children: i.product.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-price\",\n              children: i.product.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-quantity\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                defaultValue: \"1\",\n                type: \"number\",\n                onChange: event => changeHandler(event),\n                min: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-removal\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => props.remove(i.product._id, i.product.price),\n                className: \"remove-product\",\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-line-price\",\n              children: totalPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 24\n        }, this);\n      });\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"orders__item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Order - \", order._id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" Name: \", order.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" Adress: \", order.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"orders__products-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"column-labels\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-image\",\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-details\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-price\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-quantity\",\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-removal\",\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"product-line-price\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), items]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"orders\",\n      children: orders\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default Order;","map":{"version":3,"sources":["D:/Work/Projects/e-commerce/front-end/src/components/orders/orders.js"],"names":["React","Component","Order","state","orders","componentDidMount","console","log","props","fetch","headers","Authorization","token","then","res","status","error","Error","json","resData","setState","catch","err","render","map","order","orderItems","items","item","i","product","imageUrl","title","price","event","changeHandler","remove","_id","totalPrice","name","address"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './orders.css'\r\nclass Order extends Component {\r\n  state = {\r\n      orders: null\r\n  }\r\n\r\n \r\n  componentDidMount(){\r\n    console.log(this.props)\r\n      fetch('http://localhost:8080/get-orders',{\r\n          \r\n          headers:{\r\n            \r\n                Authorization: 'Bearer ' + this.props.token,\r\n            }\r\n      }).then(res=>{\r\n          if(res.status!==200 && res.status!==201){\r\n              const error = new Error('Could not fetch Orders');\r\n              throw error\r\n          }\r\n          return res.json()\r\n      }).then(resData=>{\r\n          console.log(resData)\r\n          this.setState({orders: resData.orders})\r\n      }).catch(err=>{\r\n          console.log(err)\r\n      })\r\n  }\r\n\r\n\r\n  \r\n    render(){\r\n        let orders;\r\n        if(!this.state.orders)\r\n        {\r\n           return orders = <h1>No orders</h1>\r\n        }\r\n      \r\n        orders = this.state.orders.map(order=>{\r\n            console.log( order.orderItems.items)\r\n            const items = order.orderItems.items.map(item=>{\r\n                \r\n                return(<li>\r\n                 <div className=\"product\">\r\n         <div className='product-image'>\r\n                <img src={i.product.imageUrl}/>\r\n            </div>\r\n            <div className=\"product-details\">\r\n              <div className=\"product-title\">{i.product.title}</div>\r\n            \r\n            </div>\r\n            <div className=\"product-price\">{i.product.price}</div>\r\n            <div className=\"product-quantity\">\r\n              <input defaultValue='1' type=\"number\" onChange={(event)=>changeHandler(event)}  min=\"1\"/>\r\n            </div>\r\n            <div className=\"product-removal\">\r\n              <button onClick={()=>props.remove(i.product._id, i.product.price)} className=\"remove-product\">\r\n                Remove\r\n              </button>\r\n              \r\n            </div>\r\n            <div className=\"product-line-price\">{totalPrice}</div>\r\n          </div>\r\n                </li>)\r\n                \r\n                  \r\n            })\r\n            return( \r\n                <li className='orders__item'>\r\n                    <h1>\r\n                        Order - {order._id}\r\n                       \r\n                    </h1>\r\n                    <h1> Name: {order.name}</h1>\r\n                    <h1> Adress: {order.address}</h1>\r\n                    <h1>Time:{}</h1>\r\n                    <ul className=\"orders__products-item\">\r\n                    <div className=\"column-labels\">\r\n        <label className=\"product-image\">Image</label>\r\n        <label className=\"product-details\">Product</label>\r\n        <label className=\"product-price\">Price</label>\r\n        <label className=\"product-quantity\">Quantity</label>\r\n        <label className=\"product-removal\">Remove</label>\r\n        <label className=\"product-line-price\">Total</label>\r\n      </div>\r\n                            {items}\r\n                            \r\n                    </ul>\r\n                </li>)\r\n            })\r\n        return <ul className=\"orders\">\r\n            {orders}\r\n        </ul>\r\n    }\r\n\r\n}\r\n\r\nexport default Order"]},"metadata":{},"sourceType":"module"}